# –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ–∫–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —á–µ–∫ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –º–µ—Å—Ç, —á—Ç–æ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ.

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–µ–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –•–µ—à —Ñ–∞–π–ª–∞
- ID –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ —á–µ–∫–∞
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á (—Å—É–º–º–∞ + –¥–∞—Ç–∞ + –≤—Ä–µ–º—è)

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –¥—É–±–ª–∏–∫–∞—Ç:
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –æ –¥—É–±–ª–∏–∫–∞—Ç–µ (`is_duplicate = true`, `original_check_id`)
- –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ß–µ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (`review_status = 'rejected'`)

### 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
‚ö†Ô∏è –≠—Ç–æ—Ç —á–µ–∫ —É–∂–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!

–ß–µ–∫ –±—ã–ª –æ–¥–æ–±—Ä–µ–Ω —Ä–∞–Ω–µ–µ –∏ –ø–æ –Ω–µ–º—É —É–∂–µ –≤—ã–¥–∞–Ω—ã X –Ω–æ–º–µ—Ä–æ–∫(–æ–≤) ‚ÑñY, ‚ÑñZ.

–û–¥–∏–Ω —á–µ–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–≥–æ–π —á–µ–∫ –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ.
```

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ
- –û–± –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —á–µ–∫–µ (ID, —Å—É–º–º–∞, –¥–∞—Ç–∞, –≤—ã–¥–∞–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∫–∏)
- –û –ø–æ–ø—ã—Ç–∫–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (ID –¥—É–±–ª–∏–∫–∞—Ç–∞, –≤—Ä–µ–º—è)
- –°—Å—ã–ª–∫–æ–π –Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

#### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ
- –î—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –∫—Ä–∞—Å–Ω—ã–º —Ñ–æ–Ω–æ–º —Å—Ç—Ä–æ–∫–∏
- –ë–µ–π–¥–∂ "üîÑ –î–£–ë–õ–ò–ö–ê–¢" —Ä—è–¥–æ–º —Å ID —á–µ–∫–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º —á–µ–∫–µ —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–µ–≥–æ
- –£–∫–∞–∑–∞–Ω–∏–µ, —á—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω (–µ—Å–ª–∏ –æ–¥–æ–±—Ä–µ–Ω)

#### –§–∏–ª—å—Ç—Ä
–î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä "–î—É–±–ª–∏–∫–∞—Ç—ã" —Å –æ–ø—Ü–∏—è–º–∏:
- –í—Å–µ
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ (—Ç–æ–ª—å–∫–æ –Ω–µ –¥—É–±–ª–∏–∫–∞—Ç—ã)
- –¢–æ–ª—å–∫–æ –¥—É–±–ª–∏–∫–∞—Ç—ã

### 4. API –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### `GET /api/checks`
–¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- `original_check` - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫ (–µ—Å–ª–∏ —ç—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç)
- `duplicates` - —Å–ø–∏—Å–æ–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (–µ—Å–ª–∏ —ç—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä `?is_duplicate=1` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–æ–¥–µ–ª—å Check
- `is_duplicate` (boolean) - —Ñ–ª–∞–≥ –¥—É–±–ª–∏–∫–∞—Ç–∞
- `original_check_id` (foreign key) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫
- –°–≤—è–∑—å `originalCheck()` - –ø–æ–ª—É—á–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫
- –°–≤—è–∑—å `duplicates()` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —ç—Ç–æ–≥–æ —á–µ–∫–∞

### –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–µ–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `Check::findDuplicate()`
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ç—Ä–µ–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º (—Ö–µ—à, operation_id, unique_key)
3. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –¥—É–±–ª–∏–∫–∞—Ç:
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å —Å `is_duplicate = true`
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –±—ã–ª –ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω (–æ–¥–æ–±—Ä–µ–Ω –∏ –≤—ã–¥–∞–Ω—ã –±–∏–ª–µ—Ç—ã)
   - –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ–∫ –≤ –±–æ—Ç–µ
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–¥–æ–±—Ä–µ–Ω–∏—è –∏ –≤—ã–¥–∞—á–∏ –±–∏–ª–µ—Ç–æ–≤
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ—Ç –∂–µ —á–µ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   - –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ `/checks` –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å –æ –¥—É–±–ª–∏–∫–∞—Ç–µ —Å –∫—Ä–∞—Å–Ω—ã–º —Ñ–æ–Ω–æ–º
   - –§–∏–ª—å—Ç—Ä "–¢–æ–ª—å–∫–æ –¥—É–±–ª–∏–∫–∞—Ç—ã" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç—É –∑–∞–ø–∏—Å—å

## –í–∞–∂–Ω–æ

- –û–¥–∏–Ω —á–µ–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –î—É–±–ª–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è
- –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∏ –≤–∏–¥–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫ –∏ –µ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–≤—è–∑–∞–Ω—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ñ–∞–π–ª/–æ–ø–µ—Ä–∞—Ü–∏—è —Å—á–∏—Ç–∞—é—Ç—Å—è –¥—É–±–ª–∏–∫–∞—Ç–æ–º –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ** ‚Äî –¥–∞–∂–µ –µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π —á–µ–∫ –±—ã–ª –æ—Ç–∫–ª–æ–Ω—ë–Ω (—Ä–∞–Ω—å—à–µ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å, –∏–∑-–∑–∞ —á–µ–≥–æ –æ–¥–∏–Ω —á–µ–∫ –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑).

## –ï—Å–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–µ—Ä–≤–æ–≥–æ —á–µ–∫–∞ –≤ –ë–î –∑–∞–ø–æ–ª–Ω–µ–Ω—ã `file_hash`, –ø—Ä–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `operation_id` –∏ `unique_key` (—Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –¥–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –º–æ–≥–ª–∏ –æ—Å—Ç–∞—Ç—å—Å—è —Å `NULL`).
- –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –¥–æ–∫—É–º–µ–Ω—Ç, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ Telegram –ø–æ–≤—Ç–æ—Ä–Ω–æ, –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å –¥—Ä—É–≥–∏–º–∏ –±–∞–π—Ç–∞–º–∏ (–ø–µ—Ä–µ–∂–∞—Ç–∏–µ) ‚Äî —Ç–æ–≥–¥–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–¥—ë—Ç –ø–æ `operation_id` –∏–ª–∏ `unique_key` –∏–∑ —Ç–µ–∫—Å—Ç–∞ —á–µ–∫–∞. –ï—Å–ª–∏ OCR –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ –∏–∑–≤–ª—ë–∫ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ, –¥—É–±–ª–∏–∫–∞—Ç –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å; —Ö–µ—à —Ñ–∞–π–ª–∞ –Ω–∞–¥—ë–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–º —Ñ–∞–π–ª–µ.
