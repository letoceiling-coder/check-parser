# –î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:
1. Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úì
2. PHP 8.2.25 —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏ ‚úì
3. Composer —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ ‚úì
4. .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚úì
5. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ ‚úì
6. –ú–∞—Ä—à—Ä—É—Ç /api/deploy –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω ‚úì
7. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã ‚úì
8. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚úì

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

### 1. –î–æ–±–∞–≤–∏—Ç—å SANCTUM_STATEFUL_DOMAINS –≤ .env
```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env —Ñ–∞–π–ª:
echo "SANCTUM_STATEFUL_DOMAINS=project.siteaccess.ru" >> .env
```

### 2. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 775 –∏–ª–∏ 755)
chmod -R 775 storage bootstrap/cache
```

### 3. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
php artisan config:clear
php artisan cache:clear
php artisan route:clear
php artisan view:clear
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ git (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ)
–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤–∏–¥–Ω–æ –º–Ω–æ–≥–æ –Ω–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ git –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å deploy.

## üöÄ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - –∑–∞–ø—É—Å–∫ deploy:

–ù–∞ **–ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ** (Windows):
```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ git
git add .

# 2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git commit -m "Initial deploy"

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å deploy
php artisan deploy
```

–ö–æ–º–∞–Ω–¥–∞ `php artisan deploy` –≤—ã–ø–æ–ª–Ω–∏—Ç:
1. –°–±–æ—Ä–∫—É React –≤ `public/`
2. Git add, commit, push
3. POST –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ deploy

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ endpoint:
```bash
TOKEN=$(grep DEPLOY_TOKEN .env | cut -d '=' -f2)
curl -X POST https://project.siteaccess.ru/api/deploy \
  -H "Authorization: Bearer $TOKEN" \
  -H "Accept: application/json" \
  -v
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):
```bash
tail -f storage/logs/laravel.log
```
